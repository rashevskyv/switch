---
redirect_from:
  - /uk/migrate
  - /ru/migrate
lang: uk
title: "Перехід з SXOS на Atmosphere"
permalink: /migrate
author_profile: true
---

{% include toc title="Розділи" %}

{% spoiler Навіщо переходити на Atmosphere? %}

У жовтні 2020 року [були заарештовані два лідери Xecuter Team](https://www.theverge.com/2020/10/2/21499297/team-xecuter-selling-nintendo-hacks-arrested-charged-fraud){:target="_blank"} - компанії, що займалася розробкою та підтримкою SXOS, а також виробництвом чіпів для модифікації приставок із закритою вразливістю. 

1-го грудня 2020 року у світ виходить оновлення системного ПЗ Switch під версією 11.0.0 і вже через 5 днів команда SXOS випустила прошивку з підтримкою цього оновлення. Здавалося б, все йде добре і незважаючи на арешти, TX все ще працюють. 

Однак, приблизно в цей же час, всі китайські майданчики, що продавали чіпи, в один голос почали говорити про те, що чіпи у них закінчилися і перспективи виробництва нових партій вельми примарні. Також почали поширюватися чутки про те, що всі виробничі фабрики чіпів закриті, а продукція конфіскована. Штат співробітників розігнаний, а заборона на продаж чіпів пущена ледь не з верхівки комуністичної партії Китаю. У що не так вже й складно повірити, якщо згадати, що найпотужніша корпорація Tencent є офіційним дистриб'ютором продукції Nintendo в Китаї. 

Останньою ж краплею, що підтверджує, що злі язики, ймовірно, мають рацію, став вихід прошивки 11.0.1, яка на момент написання цієї замітки досі не працює на SXOS. 

Варто зазначити, що 11.0.1 оновлення мінорне і Atmosphere буквально до вечора того ж дня вже з ним працювала. 

На початку 2021 року вийшла Atmosphere 0.17.0, яка вже повністю підтримувала роботу на чіпованих приставках, так що тепер можна вже і не чекати нових версій SXOS - це просто вже не потрібно. 

{% endspoiler %}

## Перехід з SX на Atmosphere

{% spoiler Відеоінструкція %}

{% include youtube.html id="LQK_U6LSLIo" %}
{: .text-center}
{: .notice--info}

{% endspoiler %}

### Частина I - Підготовчі роботи

Якщо ваша приставка не запускається, наприклад, після оновлення sysnand через налаштування, то відразу переходьте до **частини II**
{: .notice--warning}

1. Виконайте резервне копіювання збережень за [цією інструкцією](/backup-saves.html){:target="_blank"}
	+ Якщо вам не потрібні збереження, можете пропустити. Якщо потрібні, робити **обов'язково**
1. Запустіть ваш поточний емунанд і запам'ятайте, яка там версія системного ПЗ (**Системні налаштування** -> **Система** -> **Поточна версія системи**)
	* Ця інформація стане вам у пригоді, якщо емунанд нормально не запрацює на Atmosphere. У такому разі вам доведеться генерувати чисті бути. 
1. Якщо у вас Switch Lite або приставка другої ревізії (Mariko), виконайте наступні дії, якщо ні, пропустіть їх і переходьте до наступного пункту:
	* Нагадую, що приставки другої ревізії мають серійні номери з другою буквою **K**, наприклад **XKJ**, **XKW** тощо.
	1. Увімкніть приставку, утримуючи кнопку підвищення гучності, поки не з'явиться меню SXOS 
	1. Перейдіть в "**Options**" -> "**SX Core**" -> "**Cleanup**", потім виберіть **Power Off** і **не вмикайте** приставку, поки не встановите кефір!
1. Вставте карту пам'яті приставки в ПК 
1. Встановіть свіжий {% include abbr/uk/kefir_addr.txt %}
1. Дочекайтеся закінчення встановлення, потім поверніть карту пам'яті в консоль

### Частина II - Міграція Emunand 

Якщо ви не знаєте, чи є у вас {% include abbr/uk/emunand.md abbr="EmuNAND" %}, вставте карту пам'яті в ПК і подивіться, чи є в папці `sxos` папка `emunand`. Якщо папка є - у вас є емунанд 
{: .notice--info}

1. Увімкніть консоль 
1. **Якщо у вас був EmuNAND** (якщо не було, то достатньо просто встановлення кефіру), на заставці кефіру **натисніть кнопку зниження гучності**, щоб потрапити в hekate 	
1. Перейдіть в "**emuMMC**"
1. Натисніть "**Migrate emuMMC**"
1. Виберіть "**Emunand**" -> "**Continue**"
1. Після закінчення міграції натисніть "**Change emuMMC**" і в правій частині екрана виберіть "**emuMMC/EF00**" (замість EF можуть бути інші букви)
1. Натисніть "**ОК**"
	* Тепер при запуску приставки вона автоматично буде запускати emuMMC. 
	* Щоб потрапити в офіційну прошивку, запустіть **hekate -> Launch -> Full Stock**
	* Щоб потрапити в піратську прошивку, запустіть **hekate -> Launch -> Atmosphere**. Буде запущено Emunand. 
	* Якщо Emunand запускається з помилкою, або довго висить на чорному екрані, зверніться до розділу [проблеми та їх вирішення](/#проблеми-та-їх-вирішення){:target="_blank"} внизу сторінки

### Частина III - Бекап прошивки та ключів

Пропустіть, якщо у вас вже є бекап прошивки та ключів.
{: .notice--warning}

1. Вимкніть консоль
1. Вставте карту пам'яті приставки в ПК 
1. Скопіюйте папку `emuMMC/eMMC` з кореня вашої карти пам'яті на ПК. Це ваш емунанд. Він ідентичний бекапу, тому немає ніякого сенсу створювати бекап окремо 
	* Якщо такої папки немає, то у вас немає EmuNAND, тоді зробіть бекап згідно з цією [інструкцією](/backup-nand){:target="_blank"}
1. Зробіть бекап ключів згідно з [цією інструкцією](backup-nand#частина-ii---дампимо-ключі){:target="_blank"}
1. Перейдіть у папку `sd:/switch` і скопіюйте файли `prod.keys` та `partialaes.keys` (якщо є) у ту ж папку, в яку ви скопіювали ваш бекап

Помістіть бекап у надійне місце, бажано в кілька різних. І в хмару. І на флешку яку-небудь. Не втратьте його!
{: .notice--danger}

### Частина IV - Завершення міграції

1. Спробуйте запустити SysNAND (**hekate** -> "**More Configs**" -> "**Full Stock**"). Якщо він не запускається, зверніться до розділу [проблеми та їх вирішення](/#проблеми-та-їх-вирішення){:target="_blank"} внизу сторінки
1. [Оновіть Emunand](/update-fw){:target="_blank"} до системного ПЗ версії **{% include /vars/update_version.txt %}**

## Проблеми та їх вирішення

{% spoiler Чорний екран при запуску SysNAND %}

1. Вимкніть приставку, утримуючи 30 секунд кнопку живлення 
1. Вставте карту пам'яті приставки в ПК 
1. Завантажте {% include vars/sxos.txt %}
1. Помістіть завантажений `boot.dat` у корінь карти пам'яті із заміною, вставте КП в консоль 
1. Увімкніть консоль, утримуючи кнопку підвищення гучності, щоб потрапити в меню завантажувача SX OS
1. Перейдіть в "**Options**" -> "**SX Core** / **SX Lite**", потім виберіть "**Cleanup**" -> "**Continue**"
1. Перейдіть в "**Payloads**" -> `payload.bin`"`, потім виберіть "**Launch**". Має завантажитися SysNAND.

Тепер встановіть {% include abbr/uk/kefir_addr.txt %} ще раз. Наступні запуски kefir буде запускатися автоматично відразу при ввімкненні приставки.
{: .notice--info}

{% endspoiler %}

{% spoiler Відновлення BOOT / Чорний екран при запуску EmuNAND / Помилки при запуску EmuNAND, пов'язані з boot %}

Спершу спробуйте запустити SysNAND і виконуйте нижченаведену інструкцію тільки якщо SysNAND запускається! Якщо ні, спершу вирішіть цю проблему, а потім поверніться до виконання цієї інструкції!
{: .notice--warning}

#### Якщо SysNAND та EmuNAND однієї версії: 
1. Увімкніть консоль 
1. На заставці кефіру **натисніть кнопку зниження гучності**, щоб потрапити в hekate 
1. Перейдіть в "**Tools**" -> "**Backup eMMC**" -> "**eMMC BOOT0 & BOOT1**"
1. Натисніть "**Close**", "**Close**", перейдіть в "**Home**" і натисніть "**Power Off**", підтвердіть вимкнення
1. Вставте карту пам'яті приставки в ПК 
1. Перейдіть у папку `sd:\backup\%emmc_id%`, де **%emmc_id%** - унікальний номер для кожної окремої приставки.
1. Скопіюйте `BOOT0` та `BOO1` з цієї папки в папку `emuMMC\ED00\eMMC` із заміною
1. Пробуйте запустити емунанд. 

#### Якщо не допомогло або версії SysNAND та EmuNAND різні: 

{% spoiler Як дізнатися версію свого emunand:  %}

1. Запустіть {% include abbr/uk/hekate.txt abbr="hekate" %}
1. Запустіть **TegraExplorer** (**Payloads** -> `TegraExplorer.bin`)
1. Запустіть `FW_version.te` (**Launch script**)
1. Дочекайтеся появи версії Sys та EmuNAND на екрані

{% endspoiler %}

1. [Зніміть копію ключів вашої приставки](backup-nand#частина-ii---дампимо-ключі){:target="_blank"}
1. Вставте карту пам'яті приставки в ПК 
1. Завантажте [reBoot.zip](/files/reBoot.zip){:target="_blank"}
1. [Завантажте прошивку](https://darthsternie.net/switch-firmwares/){:target="_blank"}, що відповідає **поточній версії прошивки вашого emunand**
1. Розпакуйте архів з прошивкою в папку `firmware` на вашому ПК 
1. Помістіть файли з архіву [reBoot.zip](/files/reBoot.zip){:target="_blank"} у папку `firmware`
1. Помістіть у папку `firmware` ваш файл з ключами (`prod.keys`)
1. Запустіть `recreate_boot_by_yoti.bat`. Після закінчення роботи програми ви отримаєте файли `BOOT0_ERISTA`, `BOOT0_MARIKO`, `BOOT1_ERISTA`, `BOOT1_MARIKO`
1. Визначте, якої ревізії ваша приставка (**Erista** або **Mariko**) і перейменуйте файли, що відповідають вашій ревізії, в `BOOT0` та `BOOT1`
	* Якщо серійник вашої консолі починається на **XK**, то у вас **Mariko**. В інших випадках - **Erista** (**XAW, XAJ, XAK тощо**)
		* Серійний номер приставки знаходиться в **Системних налаштуваннях -> Система -> Серійні номери**, найперший серійник. Він же знаходиться поруч із роз'ємом для зарядки на нижній грані планшета. 
	* Switch Lite завжди Mariko 
1. Скопіюйте `BOOT0` та `BOO1` для вашої ревизії в папку `emuMMC\ED00\eMMC` із заміною
	* Замість `ED00` у шляху може бути як `SD01`, так і будь-які інші поєднання з двох букв і двох чисел
	* Тепер при запуску приставки вона автоматично буде запускати emuMMC. 
	* Щоб потрапити в офіційну прошивку, запустіть **hekate** -> "**Launch**" -> "**Full Stock**"

Якщо не помогло, вам доведеться [створювати новий EmuNAND](/emunand){:target="_blank"}
{: .notice--info}

Тепер встановіть {% include abbr/uk/kefir_addr.txt %} ще раз. Наступні запуски kefir буде запускатися автоматично відразу при ввімкненні приставки.
{: .notice--info}

{% endspoiler %}

{% spoiler Помилка "Pkg1 decryption failed! Is BEK Missing?" %}

Вимкніть і ввімкніть приставку. Перезавантаження не допоможе. Необхідне саме повне вимкнення. 
{% endspoiler %}

{% spoiler У мене інша помилка %}

Розкажіть про це в [групі](http://tg.customfw.xyz). **Обов'язково** додайте скріншот помилки, версію своєї приставки (якщо не знаєте яка - серійник), як запускається прошивка (чіп (якщо так, то який), донгл (якщо так, то який), ще якось), версію системного ПЗ, наявність EmuNAND, що саме видає помилку - EmuNAND чи SysNAND, версію кефіру, після чого виникає помилка. 
Відсутність **будь-якого** з цих пунктів призведе до того, що ваш пост видалять або проігнорують. 

{% endspoiler %}

{% spoiler Не можу запустити HBL %}

В Atmosphere HBL запускається, утримуючи {% include inc/uk/btn.txt btn="R" %} при запуску альбомів. Детальніше - [Homebrew Launcher](/hbl){:target="_blank"}

{% endspoiler %}



