---
lang: uk
permalink: /uk/fusee-gelee.html
title: Запуск пейлоадера через Fusée Gelée
author_profile: true
---

{% include toc title="Розділи" %}
{% include notices %}	

{% spoiler Відеоінструкція %}

{% include youtube.html id="jxrkxHPfec8" %}
{: .text-center}
{: .notice--info}

{% endspoiler %}

**Ця сторінка є пояснювальною. На цій сторінці не розглядається безпосередньо запуск кастомної прошивки, а дана лише теоретична частина. Практична частина буде дана далі, в процесі виконання посібника.**
{: .notice--warning}

## Інформація про Fusée Gelée

Деякі мобільні процесори NVIDIA Tegra, випущені до 2016 року, містять вразливість переповнення буфера в режимі відновлення BootROM ({% include abbr/uk/rcm.txt abbr="RCM" %}). Зловмисник з фізичним доступом до USB-порту пристрою і можливістю примусового перезавантаження пристрою в {% include abbr/uk/rcm.txt abbr="RCM" %}, може використовувати вразливість для виконання неперевіреного коду.

**Fusée Gelée** - це ланцюжок експлойтів для Nintendo Switch, побудований навколо апаратної вразливості чипа Nvidia Tegra. З її допомогою можна запускати непідписаний код на Nintendo Switch. Оскільки вразливість апаратна, її неможливо закрити, не змінюючи ревізії заліза. Останні версії приставки, однак, позбавлені цієї діри, тому будьте уважні при купівлі пристрою для прошивки. Дізнатися, чи прошивається ваша приставка, можна [тут](/uk/get-started#%D0%BF%D1%96%D0%B4%D0%B1%D1%96%D1%80-%D0%B2%D1%96%D0%B4%D0%BF%D0%BE%D0%B2%D1%96%D0%B4%D0%BD%D0%BE%D1%97-%D0%B2%D1%80%D0%B0%D0%B7%D0%BB%D0%B8%D0%B2%D0%BE%D1%81%D1%82%D1%96){:target="_blank"}

## Що таке RCM

**RCM** - це штатний режим відновлення на Tegra-пристроях. Для того, щоб увійти в нього, потрібно вимкнути консоль, а потім затиснути {% include inc/uk/btn.txt btn="POWER" %} + (VOL+) + {% include inc/uk/btn.txt btn="HOME" %}. Але не той {% include inc/uk/btn.txt btn="HOME" %}, що ми бачимо на правому джойконі, а кнопку, яку NVIDIA Tegra вважає такою. На жаль, на самій приставці її немає. Нам знадобиться відключити консоль, замкнути певний контакт на місці кріплення правого joy-con і землю (для цього використовується замикач), підключити консоль до ПК і відправити на неї пейлоадер будь-яким зручним способом. Нижче ми розглянемо детальніше, як це робити.

## Як все це відбувається

У загальному вигляді ланцюжок такий - ви вставляєте [замикач](/uk/#замикач) в приставку, вводите її в {% include abbr/uk/rcm.txt abbr="RCM" %} і передаєте на неї корисне навантаження, яке в свою чергу виконує код на самій приставці. Корисне навантаження, воно ж {% include abbr/uk/payload.txt abbr="пейлоад" %}, можна передати через ПК, смартфон або спеціальний {% include abbr/uk/dongle.txt abbr="донгл" %}, створений виключно для цього. Для простоти будь-який пристрій, здатний передавати пейлоад, ми називатимемо **хостом**. Для спрощення запуску прошивки хост [можна вбудувати в саму приставку](https://gbatemp.net/threads/internal-modchip-samd21-trinket-m0-gemma-m0-itsybitsy-m0-express-guide-files-support.508068/){:target="_blank"}. Хост, вбудований в приставку, називається **чипом**. Різниця між чипом і донглом насамперед у тому, що перший завжди знаходиться в приставці, запускає пейлоад відразу при її включенні, а також стежить за тим, щоб не допустити повного розряду приставки. Варто розуміти, що це не той же самий чип, за допомогою якого зламуються приставки на Mariko і патчені приставки першої ревізії. У цьому випадку чип просто замінює собою донгл. У випадку ж з чипуванням на Mariko, чип сам по собі і є зламом. Тобто, на Mariko без чипа ви не зможете зламати приставку взагалі, а в разі з приставкою, вразливою до Fusée Gelée, без чипа цілком можна обійтися, пробросивши пейлоад через Донгл або ПК.

## Що знадобиться

* **Замикач**
* **Хост**
* Карта пам'яті (рекомендований обсяг 64Гб і більше)

### Замикач

Для коректної активації ланцюжка нам знадобиться замкнути між собою 9-й і 10-й контакти (або 7-й і 10-й, або 1-й і 10-й, усі варіанти працюють однаково добре) на місці встановлення правого контролера. Це можна зробити кількома способами:

* Використовувати звичайну [канцелярську скріпку](https://www.reddit.com/r/SwitchHacks/comments/8f0ugz/hardwarediy_switch_paperclip_jig_for_rcm_mode/){:target="_blank"}
* Використовувати [замикач, надрукований на 3D-принтері](https://www.thingiverse.com/thing:2877484){:target="_blank"} або купити готовий на Aliexpress
* [І інші способи](https://gbatemp.net/threads/the-ultimate-list-of-mods-to-enter-rcm.502145/){:target="_blank"}

Далі в інструкції під словом "замикач" матиметься на увазі будь-який з цих способів

### Хост

Як хост можна використовувати:
* Донгл
* ПК
	* Вам також знадобиться USB-C / USB-A кабель, щоб підключити приставку до ПК. Зверніть увагу, **кабель повинен підтримувати передачу даних**!
* Мобільний телефон
	* Вам також знадобиться USB-C / USB-C кабель, щоб підключити приставку до телефону, або USB-C / USB-A кабель і OTG-перехідник. Телефон також повинен підтримувати OTG. Якщо у вас iPhone, то на ньому повинен бути jailbreak!

## Інструкція

### Частина I - Вхід в RCM

{% spoiler Відеоінструкція %}

{% include youtube.html id="jxrkxHPfec8" %}
{: .text-center}
{: .notice--info}

{% endspoiler %}

1. Якщо в приставку вставлений картридж - витягніть його
1. Вимкніть консоль
1. Від'єднайте правий joy-con і ставте **замикач** в направляючу **правого** джойкона до упору

	![](/assets/images/switch/screenshots/jig.jpg) 
	{: .text-center}
	{: .notice--info}

1. Затисніть (VOL+) і увімкніть приставку, не відпускаючи кнопку гучності
1. Можете дістати замикач

На екрані приставки не повинно нічого відбуватися. Якщо після підключення кабелю екран залишається чорним, то ви все робите правильно! Якщо екран загоряється написом Nintendo - відключіть консоль і повторіть все заново.
{: .notice--warning}

Може не вийти з наступних причин:
* Замкнуті не ті контакти
* Замикач нічого не замикає, наприклад, дріт порвався і контакти не замикаються, або він початково зібраний з помилками
* Кнопки затиснуті не одночасно. Спробуйте затискати спочатку (VOL+), а потім, не відпускаючи її, натисніть {% include inc/uk/btn.txt btn="POWER" %}

У разі успіху на екрані не відбуватиметься нічого. У разі невдачі запуститься офіційна прошивка
{: .notice--success}

### Частина II - Проброс пейлоада

На цей момент приставка вже повинна знаходитися в режимі RCM!
{: .notice--warning}

Залежно від ситуації, пробрасуваний пейлоад може бути різним. Ми навмисно не вказуємо на цій сторінці, який пейлоад потрібно пробросити. У явному вигляді це буде сказано на відповідних сторінках. Найчастіше ви будете пробрасувати гекату, яка знаходиться в складі кефіру у вигляді `payload.bin`

{% spoiler Запуск через донгл %}

Донгл - це автономний пристрій, який створений виключно для зручного запуску зламу.

## Що знадобиться

{% include abbr/uk/dongle.txt abbr="Донгл" %} необхідно зарядити комплектним кабелем microUSB-USB, або вставити в **увімкнену** приставку
{: .notice--warning}

* Сам {% include abbr/uk/dongle.txt abbr="донгл" %}
* Встановлена на донглі {% include abbr/uk/hekate.txt abbr="hekate" %}
	* Інструкція для [R4S](/uk/r4#прошивка-донгла){:target="_blank"}
	* Інструкція для [RCMLoader](/uk/rcmloader#прошивка-донгла){:target="_blank"}
* Приставка повинна знаходитися в режимі [RCM](#%D1%87%D0%B0%D1%81%D1%82%D1%8C-i---
lang: uk%D0%B2%D1%85%D0%BE%D0%B4-%D0%B2-rcm)

## Інструкція

* Для запуску кастомної прошивки вставте донгл в приставку
	* Приставка повинна знаходитися в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}.
* Для запуску {% include abbr/uk/hekate.txt abbr="hekate" %} просто вставте {% include abbr/uk/dongle.txt abbr="донгл" %} в приставку, коли з'явиться сплешскрін кефіру, натисніть кнопку зменшення гучності
* Для запуску будь-якого іншого пейлоада читайте далі

#### Що знадобиться

* {% include abbr/uk/payload.txt abbr="Пейлоад" %}, який ви збираєтеся запускати
	* Для запуску {% include abbr/uk/hekate.txt abbr="hekate" %} вона повинна бути прошита в {% include abbr/uk/dongle.txt abbr="донгл" %}, додатково її нікуди не потрібно скидати
* Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}

Нижче описаний метод запуску взагалі будь-якого пейлоада за допомогою {% include abbr/uk/dongle.txt abbr="донгла" %}, на якому прошита {% include abbr/uk/hekate.txt abbr="hekate" %}
{: .notice--info}

1. Встановіть на приставку {% include abbr/uk/kefir_addr.txt %}
1. Помістіть {% include abbr/uk/payload.txt abbr="пейлоад" %}, який ви збираєтеся запускати в папку `bootloader/payloads` на карті пам'яті консолі та вставте картку в консоль
1. Вставте донгл в консоль
1. Коли з'явиться сплешскрін кефіру, натисніть (VOL-), ви потрапите в гекату
1. В hekate натисніть **Payloads...** -> **%ваш_пейлоад%.bin**
1. Пейлоад запуститься на консолі
{% endspoiler %}

{% spoiler Запуск на Windows %}
## Що знадобиться

* Свіжа версія [TegraRcmGUI](https://github.com/eliboa/TegraRcmGUI/releases/latest){:target="_blank"}
* {% include abbr/uk/payload.txt abbr="Пейлоад" %}, який ви збираєтеся запускати на приставці
* USB type-С на USB type-A кабель для підключення Switch до ПК
* Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}

## Встановлення драйверів

Якщо драйвери вже були встановлені, пропустіть цю частину
{: .notice--info}

1. Запустіть [`TegraRcmGUI.exe`](https://github.com/eliboa/TegraRcmGUI/releases/latest){:target="_blank"} від імені Адміністратора
1. Перейдіть у вкладку `Settings` і натисніть "**Install Driver**"
1. Встановіть драйвер
1. Після успішного встановлення драйвера закрийте програму

## Запуск пейлоада

1. Підключіть приставку, що знаходиться в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"} до ПК
1. Запустіть [`TegraRcmGUI.exe`](https://github.com/eliboa/TegraRcmGUI/releases/latest){:target="_blank"} від імені Адміністратора

![]((/assets/images/switch/screenshots/tegrarcmgui.png) 
{: .text-center}
{: .notice--info}

1. Натисніть на кнопку ![](/assets/images/switch/screenshots/search.png) і виберіть пейлоад, який збираєтеся запустити
1. Натисніть на кнопку "**Inject Payload**", щоб відправити пейлоад на консоль
1. Пейлоад запуститься на консолі
	* Якщо пейлоад не запускається, перевірте правильно чи встановлені драйвери. Правильно встановлений драйвер пристрою відображатиметься в диспетчері пристроїв як `libusbK USB Devices`
	* Спробуйте передати пейлоад ще раз
	* Кнопкою ![](/assets/images/switch/screenshots/add_to_fav.png) можна додати пейлоад у вибране

{% endspoiler %}

{% spoiler Запуск на macOS %}

## Що знадобиться

* {% include abbr/uk/payload.txt abbr="Пейлоад" %}, який ви збираєтеся запускати на приставці
* USB type-С на USB type-A для підключення Switch до Маку
* Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}

## Встановлення NXBoot

Встановити і запустити NXBoot можна двома способами:

### *У ручному режимі*

Для встановлення утиліти NXBoot, за допомогою якої пейлоадери будуть доставлятися на консоль, необхідно відкрити програму Terminal і вставити наступний код:

`sudo curl -L https://mologie.de/~oliver/mologie.github.io/nxboot/bin/nxboot -o /usr/local/bin/nxboot && sudo chmod +x /usr/local/bin/nxboot`

Таким чином, за одну операцію з [офіційного сайту](https://mologie.github.io/nxboot/){:target="_blank"} скачується утиліта, зберігається в директорії `/usr/local/bin/` для того, щоб не вказувати шлях до файлу при запуску, і задаються права на виконання.

### *Автоматично*

Для автоматичного завантаження NXBoot і доставки пейлоада на консоль необхідно запустити програму [PayloadStarter](https://github.com/KnightOfSteel/payload_starter/releases){:target="_blank"} і вибрати потрібний {% include abbr/uk/payload.txt abbr="пейлоад" %}.

## Запуск пейлоада

Запустити пейлоад можна також двома способами:

### **У ручному режимі.**

Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}
{: .notice--warning}

1. Відкрийте програму **Terminal** і виконайте наступну команду: `nxboot /шлях/до/пейлоада`
	* Шлях повинен бути прописаний безпосередньо до `.bin`-файлу пейлоада
	* Щоб не прописувати шлях вручну, можна написати в терміналі `nxboot` і перетягнути туди мишкою `.bin`-файл пейлоада
	* Якщо пейлоад не запускається, швидше за все консоль не перебуває в режимі RCM
1. Після успішного виконання `nxboot` ви побачите на екрані наступний текст `success: payload was run. exiting, fair winds!`
1. Можете діставати замикач

### **В автоматичному режимі.**

Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}
{: .notice--warning}

1. Підключіть Switch до комп'ютера
1. Запустіть **PayloadStarter**
1. Виберіть необхідний `payload.bin`
1. Дочекайтеся завершення процесу (залежить від вашого інтернет-з'єднання і швидкодії комп'ютера)
1. Якщо все пройшло успішно, то на вашому Switch запуститься вибраний payload і можна дістати замикач

{% endspoiler %}

{% spoiler Запуск на Android %}
## Що знадобиться

* {% include abbr/uk/payload.txt abbr="Пейлоад" %}, який ви збираєтеся запускати на приставці
* Пристрій на базі Android, що працює з OTG
* USB type-С на USB type-С для підключення Switch до пристрою на Android, або OTG-перехідник
* Встановлена програма [Rekado](https://github.com/MenosGrante/Rekado/releases/latest){:target="_blank"}
* Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}

## Запуск пейлоада

1. Запустіть **Rekado** на вашому Android-смартфоні
1. Перейдіть в розділ "**Payloads**" і дайте права на роботу з накопичувачем, якщо програма їх попросить
1. Натисніть на кнопку `+` і виберіть необхідний для запуску пейлоад
1. Підключіть Switch до вашого пристрою за допомогою кабелю
1. Телефон запитає використовувати чи **Rekado** для підключення за замовчуванням. Відповідайте стверджувально
1. Натисніть "**Boot Payload**" і виберіть ваш пейлоад
{% endspoiler %}

{% spoiler Запуск на будь-якій платформі, на якій є браузер %}
## Що знадобиться

* {% include abbr/uk/payload.txt abbr="Пейлоад" %}, який ви збираєтеся запускати на приставці
* USB type-С на USB type-A кабель для підключення Switch до {% include abbr/uk/host.txt abbr="хосту" %}
* Браузер Chrome (з іншими браузерами працювати не буде!)
* Приставка повинна бути в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}

## Запуск пейлоада

Приставка повинна знаходитися в [режимі RCM](fusee-gelee#частина-i---
lang: ukвхід-в-rcm){:target="_blank"}!
{: .notice--info}

1. Відкрийте цю [веб-сторінку](https://webcfw.sdsetup.com/){:target="_blank"} і увімкніть Російську мову
1. У частині "**Налаштування відправки пейлоада**" виберіть пейлоад зі списку "**Завантажити свій пейлоад**", натисніть "**Виберіть файл**", після чого виберіть `.bin`-файл вашого пейлоада
	* Не вибирайте пейлоад зі списку! Використовуйте той, що в архіві, інакше ви ризикуєте отримати помилку на тому чи іншому етапі прошивки!
1. Натисніть "**Deliver payload!**"
1. У відкритому вікні виберіть "**APX**" і натисніть "**Підключення**"
1. Пейлоад запуститься на консолі
1. Можете діставати замикач
{% endspoiler %}

___

# Наступний крок: [Підготовчі роботи](/uk/preparation-fuse)
{: .notice--success}